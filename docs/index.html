<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>KeyBand Studio</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="app">
      <header class="hero">
        <div>
          <p class="eyebrow">KeyBand</p>
          <h1>KeyBand Studio</h1>
          <p class="subtitle">
            Play 1-7 with real instruments. Shift = Oct+, Ctrl = Oct-.
            Ped with 8/9/0 or I/O or Space.
          </p>
          <div class="status">
            <span class="status-dot" id="statusDot"></span>
            <span id="statusText">Loadingâ€¦</span>
          </div>
          <div class="cta-row">
            <button id="audioButton" class="primary">Start Audio</button>
          </div>
        </div>
        <div class="panel">
          <h2>Controls</h2>
          <div class="control-row">
            <label for="instrumentSelect">Instrument</label>
            <select id="instrumentSelect">
              <option value="piano">Piano</option>
              <option value="guitar">Guitar</option>
              <option value="flute">Flute</option>
            </select>
          </div>
          <div class="control-row">
            <label for="genderSelect">Voice</label>
            <select id="genderSelect">
              <option value="male">Male</option>
              <option value="female">Female</option>
            </select>
          </div>
          <div class="control-row">
            <label for="keySelect">Key</label>
            <select id="keySelect">
              <option value="C">C</option>
              <option value="C#/Db">C#/Db</option>
              <option value="D">D</option>
              <option value="D#/Eb">D#/Eb</option>
              <option value="E">E</option>
              <option value="F">F</option>
              <option value="F#/Gb">F#/Gb</option>
              <option value="G">G</option>
              <option value="G#/Ab">G#/Ab</option>
              <option value="A">A</option>
              <option value="A#/Bb">A#/Bb</option>
              <option value="B">B</option>
            </select>
          </div>
          <div class="control-row">
            <label>Touch Octave</label>
            <div class="octave-buttons">
              <button id="octDownButton" class="ghost">Oct-</button>
              <span id="octaveLabel">0</span>
              <button id="octUpButton" class="ghost">Oct+</button>
            </div>
          </div>
          <div class="control-row">
            <label>Ped.</label>
            <div class="pedal-indicator">
              <span class="pill" id="sustainPill">Ped Off</span>
            </div>
          </div>
        </div>
      </header>

      <section class="keyboard">
        <div class="keyboard-title">
          <h2>Keypad</h2>
          <p>Keyboard: 1-7 or Numpad 1-7. Alt: M , . J K L U.</p>
        </div>
        <div class="keypad-grid">
          <button class="key oct" data-oct="up">Oct+</button>
          <button class="key" data-degree="7">7</button>
          <div class="key spacer" aria-hidden="true"></div>
          <div class="key spacer" aria-hidden="true"></div>

          <button class="key oct" data-oct="down">Oct-</button>
          <button class="key" data-degree="4">4</button>
          <button class="key" data-degree="5">5</button>
          <button class="key" data-degree="6">6</button>

          <button class="key sustain" data-sustain="true">Ped.</button>
          <button class="key" data-degree="1">1</button>
          <button class="key" data-degree="2">2</button>
          <button class="key" data-degree="3">3</button>
        </div>
        <div class="alt-row">
          <div>Alt keys: M = 1, , = 2, . = 3, J = 4, K = 5, L = 6, U = 7</div>
          <div>Ped keys: 8 / 9 / 0 / I / O / Space</div>
        </div>
        <button id="mobileKeyboardButton" class="ghost mobile-only">Mobile Keyboard</button>
      </section>

      <section class="help">
        <h2>Tips</h2>
        <ul>
          <li>Hold Shift while pressing a note to go up one octave.</li>
          <li>Hold Ctrl while pressing a note to go down one octave.</li>
          <li>Hold Ped to let notes ring.</li>
          <li>Click "Start Audio" once before playing.</li>
        </ul>
      </section>

    </div>

    <div id="mobileOverlay" class="mobile-overlay hidden" aria-hidden="true">
      <div class="mobile-overlay__content">
        <div class="mobile-overlay__header">
          <div class="mobile-overlay__title">Mobile Keyboard</div>
          <div class="mobile-overlay__hint">Hold Oct+ and Oct- for 0.5s to exit Mobile Keyboard</div>
        </div>
        <div class="mobile-grid">
          <button class="mobile-key oct" data-mobile-oct="up">Oct+</button>
          <button class="mobile-key degree" data-degree="7">7</button>
          <div class="mobile-spacer"></div>
          <div class="mobile-spacer"></div>

          <button class="mobile-key oct" data-mobile-oct="down">Oct-</button>
          <button class="mobile-key degree" data-degree="4">4</button>
          <button class="mobile-key degree" data-degree="5">5</button>
          <button class="mobile-key degree" data-degree="6">6</button>

          <button class="mobile-key ped" data-mobile-ped="true">Ped.</button>
          <button class="mobile-key degree" data-degree="1">1</button>
          <button class="mobile-key degree" data-degree="2">2</button>
          <button class="mobile-key degree" data-degree="3">3</button>
        </div>
      </div>
    </div>
    <script type="module" src="app.js"></script>
  </body>
</html>
